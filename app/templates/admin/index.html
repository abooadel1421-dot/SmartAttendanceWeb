{% extends "admin/base.html" %}  

{# استيراد ملف CSS خاص بلوحة التحكم #}  
{% block head_css %}  
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">  
    {# يمكنك إضافة المزيد من روابط CSS هنا إذا لزم الأمر #}  
{% endblock %}  

{% block admin_content %}  
<div class="page-header">  
    <h1 class="page-title">  
        <i class="bi bi-speedometer2"></i>  
        لوحة تحكم الإدارة  
    </h1>  
</div>  

<!-- إحصائيات سريعة -->  
<div class="row g-4 mb-4">  
    <div class="col-md-3">  
        <div class="stats-card">  
            <div class="d-flex align-items-center">  
                <div class="flex-grow-1">  
                    <h6 class="text-muted mb-1">إجمالي الطلاب</h6>  
                    <h3 class="mb-0">{{ total_students }}</h3>  
                </div>  
                <div class="fs-1 text-primary">  
                    <i class="bi bi-people"></i>  
                </div>  
            </div>  
        </div>  
    </div>  

    <div class="col-md-3">  
        <div class="stats-card">  
            <div class="d-flex align-items-center">  
                <div class="flex-grow-1">  
                    <h6 class="text-muted mb-1">المستخدمين</h6>  
                    <h3 class="mb-0">{{ total_users }}</h3>  
                </div>  
                <div class="fs-1 text-success">  
                    <i class="bi bi-person-badge"></i>  
                </div>  
            </div>  
        </div>  
    </div>  

    <div class="col-md-3">  
        <div class="stats-card">  
            <div class="d-flex align-items-center">  
                <div class="flex-grow-1">  
                    <h6 class="text-muted mb-1">البطاقات الذكية</h6>  
                    <h3 class="mb-0">{{ active_cards }}</h3> {# ملاحظة: في دالة Python مررت 'active_cards' وليس 'total_cards' #}  
                </div>  
                <div class="fs-1 text-warning">  
                    <i class="bi bi-credit-card"></i>  
                </div>  
            </div>  
        </div>  
    </div>  

    <div class="col-md-3">  
        <div class="stats-card">  
            <div class="d-flex align-items-center">  
                <div class="flex-grow-1">  
                    <h6 class="text-muted mb-1">الأجهزة</h6>  
                    <h3 class="mb-0">{{ total_devices }}</h3>  
                </div>  
                <div class="fs-1 text-info">  
                    <i class="bi bi-hdd-network"></i>  
                </div>  
            </div>  
        </div>  
    </div>  
</div>  

<!-- روابط سريعة -->  
<div class="row g-4">  
    <div class="col-md-6">  
        <div class="card">  
            <div class="card-body">  
                <h5 class="card-title"><i class="bi bi-lightning"></i> الإجراءات السريعة</h5>  
                <div class="list-group list-group-flush">  
                    <a href="{{ url_for('admin.add_student') }}" class="list-group-item list-group-item-action">  
                        <i class="bi bi-person-plus-fill"></i> إضافة طالب جديد  
                    </a>  
                    <a href="{{ url_for('admin.add_card') }}" class="list-group-item list-group-item-action">  
                        <i class="bi bi-credit-card-2-front"></i> إصدار بطاقة ذكية  
                    </a>  
                    <a href="{{ url_for('admin.add_device') }}" class="list-group-item list-group-item-action">  
                        <i class="bi bi-plus-circle"></i> إضافة جهاز جديد  
                    </a>  
                </div>  
            </div>  
        </div>  
    </div>  
</div>  
{% endblock admin_content %}  

{# استيراد ملف JavaScript خاص بلوحة التحكم أو سكريبتات مضمنة #}  
{% block scripts %}  
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>  
    <script>  
        // سكريبتات JavaScript مخصصة لصفحة لوحة التحكم  
        // مثلاً: تحديث بيانات الإحصائيات ديناميكيًا، أو التعامل مع رسوم بيانية  
        // console.log("لوحة تحكم الإدارة جاهزة!");  
    </script>  
{% endblock %}